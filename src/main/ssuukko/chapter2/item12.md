## toString 항상 재정의하라

## toString을 왜 써야하나?
- 간결하면서 사람이 읽기 쉬운 형태의 유익한 정보를 전달 받기위해서
- 디버깅이 쉬움

### toString 재정의하지 않으면 Object 기본 toString 메서드를 사용하게 된다.
***
`Object`의 기본 `toString`은 `클래스이름@16진수`로 표시한 해시코드가 출력된다.

`toString` 메서드는 객체를 `println`, `printf`, `문자열 연결 연산자 +`, `assert`, `디버거 객체를 출력` 등 을 출력할 때 자동으로 호출된다.  
즉, 직접 호출하지 않아도 사용되는 경우가 많다.

### `재정의는 필수적`이며, `재정의 시에 객체가 가진 주요 정보를 모두 반환하는 것이 올바르다.`
***
`Car` 클래스 예시

### 포멧 문서화 여부를 결정하자
***
- 포맷을 명시한 예
  - 전화번호 같은 값 클래스라면 문서화하길 권장.
  - 명시한 포맷에 맞는 문자열과 객체를 상호 전환할 수 있는 정적 팩터리나 생성자를 함께 제공하면 좋음.
  - 한번 포맷을 명시하면 그 포맷에 평생 얽매여야함. 정해진 포맷에 맞춰 파싱이 필요하다.
```java
/**
 * 이 전화번호의 문자열 표현을 반환한다.
 * 이 문자열은 "XXX-YYY-ZZZZ" 형태의 12글자로 구성된다.
 * XXX는 지역 코드, YYY는 프리픽스, ZZZZ는 가입자 번호다.
 * 각각의 대문자는 10진수 숫자 하나를 나타낸다.
 *
 * 전화번호의 각 부분의 값이 너무 작아서 자릿수를 채울 수 없다면,
 * 앞에서부터 0으로 채워나간다. 예를 들어 가입자 번호가 123이라면
 * 전화번호의 마지막 네 문자는 "0123"이다.
 */
 @Override
 public String toString() {
     return String.format("%03d-%03d-%04d",areaCode, prefix, lineNum);
 }
```
**장점**
- 출력 형식이 고정되어 있어 사용자에게 예측 가능성을 제공합니다.
- 정해진 규칙에 따라 입력 데이터를 처리하고 출력할 수 있습니다. 
**단점**
- 포맷 변경이 어려움: 한 번 정해진 포맷은 바꾸기 어렵습니다. 다른 시스템과의 통합 시 유연성이 떨어질 수 있습니다.


- 포맷을 명시하지 않은 예
  - 향후 릴리스에서 정보를 더 넣거나 포맷을 개선할 수 있는 유연성을 얻게 된다.
```java
/**
 * 이 약물에 관한 대락적인 설명을 반환한다.
 * 다음은 이 설명의 일반적인 형태이나,
 * 상세 형식은 정해지지 않았으며 향후 변경될 수 있다.
 *
 * "[약물 #9: 유형=사랑, 냄새=테레빈유, 겉모습=먹물]"
 */
@Override
public String toString() {
  return "[Drug #" + id + ": type=" + type + ", smell=" + smell + ", appearance=" + appearance + "]";
}
```
**장점**
- 출력 형식을 쉽게 개선하거나 확장할 수 있어 유연성이 높습니다.
- 포맷이 고정되지 않아, 이후의 요구사항 변화에 유리합니다.
**단점**
- 사용자 입장에서 출력 형식을 예측하기 어렵습니다.
- 특정 형식으로 출력된 데이터를 파싱하거나 처리하기 어려울 수 있습니다.

포맷을 명시하든 아니든 의도는 분명히 알수 있도록 주석을 달아두는 것이 좋다.



### 포맷 여부와 상관없이 toString이 반환할 값과 포함된 정보를 얻어올 수 있는 API를 제공하자.
그렇지 않으면 toString의 포맷을 파악하고 반환값을 파싱 하여 이용해야 하는데,  
이렇게 할 경우 성능이 나빠지며 필요하지 않을 작업(조합(toString)과 분해(Parsing))을 하게 되는 것이다.  
또한 포맷의 변경이 일어난다면 이를 파싱 해 사용하던 시스템에도 심각한 문제를 초래할 수 있다.
- `getter`

## AutoValue와 toString
AutoValue는 각 필드의 내용을 멋지게 나타내 준다. 하지만 클래스의 의미까지는 파악하지 못한다.  
아무래도 toString은 사람이 읽기 쉬운 유익한 정보를 반환해야 하기 때문에 자동 생성에 적합하지 않다고 생각한다.  
(하지만 Object가 자동으로 생성해주는 toString보다는 훨씬 유익할 수 있다).

### 결론
***
모든 구체 클래스에서 `Object`의 `toString`을 재정의하자.  
상위 클래스에서 이미 알맞게 재정의한 경우는 예외다. `toString`을 재정의한 클래스는 사용하기도 즐겁고 그 클래스를 사용한 시스템을 디버깅하기 쉽게 해준다.  
`toString`은 해당 객체에 대한 명확하고 유용한 정보를 읽기 좋은 형태로 반환해야 한다.

